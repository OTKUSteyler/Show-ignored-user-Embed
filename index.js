(function(s,i,g,e,n,u,d){"use strict";const{View:l}=e.ReactNative,{FormRow:m,FormSwitch:f}=u.General;function h(){const[t,r]=e.React.useState(n.storage.showIgnoredEmbeds??!0),o=function(){const a=!t;r(a),n.storage.showIgnoredEmbeds=a};return e.React.createElement(l,{style:{padding:16}},e.React.createElement(m,{label:"Show ignored user media",subLabel:"Show embeds (images, videos, etc) from ignored users",trailing:e.React.createElement(f,{value:t,onValueChange:o})}))}const b=i.findByProps("MessageContent")?.default;let c;function w(t){return n.storage.showIgnoredEmbeds?t?.isBlocked===!0&&t?.embeds?.length>0:!1}function E(){c=g.after("type",b,function([t],r){if(w(t?.message)){const o=t.message.embeds;r.props.children.push(e.React.createElement("View",{style:{marginTop:6}},o.map(function(a,S){return e.React.createElement("Text",{style:{color:"gray"},key:S},a?.url||"[embed]")})))}return r})}const v=function(){n.storage.showIgnoredEmbeds??=!0,E(),d.registerSettings("ShowIgnoredEmbeds","Show Ignored Embeds",function(){return e.React.createElement(h)})},R=function(){c?.(),d.unregisterSettings("ShowIgnoredEmbeds")};return s.onLoad=v,s.onUnload=R,s})({},vendetta.metro,vendetta.patcher,vendetta.metro.common,vendetta.plugin,vendetta.ui.components,vendetta.settings);
